<!-- templates/invest_widget.html -->
<div class="asset-card bg-gray-800 rounded-xl shadow-lg p-4 border border-gray-700">
    <!-- Asset Header -->
    <div class="flex items-center justify-between mb-3">
        <div class="flex items-center space-x-3">
            <div class="w-12 h-12 rounded-full 
                {% if asset.category == 'crypto' %}bg-yellow-900/30
                {% elif asset.category == 'forex' %}bg-blue-900/30
                {% elif asset.category == 'futures' %}bg-purple-900/30
                {% else %}bg-green-900/30{% endif %} 
                flex items-center justify-center">
                <span class="font-bold text-white">{{ asset.symbol|slice:":3" }}</span>
            </div>
            <div>
                <h3 class="font-bold text-white">{{ asset.name }}</h3>
                <p class="text-sm text-gray-400">{{ asset.symbol }}</p>
                <span class="text-xs px-2 py-1 rounded-full 
                    {% if asset.risk_level == 'low' %}bg-green-900/50 text-green-300
                    {% elif asset.risk_level == 'medium' %}bg-yellow-900/50 text-yellow-300
                    {% elif asset.risk_level == 'high' %}bg-orange-900/50 text-orange-300
                    {% else %}bg-red-900/50 text-red-300{% endif %}">
                    {{ asset.get_risk_level_display }}
                </span>
            </div>
        </div>
        <span class="text-xs px-2 py-1 rounded-full 
            {% if asset.change_percentage >= 0 %}bg-green-900 text-green-300
            {% else %}bg-red-900 text-red-300{% endif %}">
            {% if asset.change_percentage >= 0 %}+{% endif %}{{ asset.change_percentage|floatformat:2 }}%
        </span>
    </div>
    
    <!-- Price Info -->
    <div class="space-y-2 mb-3">
        <div class="flex justify-between">
            <span class="text-gray-400">Price:</span>
            <span class="font-bold text-white">
                {{ currency_symbol }}{{ asset.display_price|floatformat:2 }}
            </span>
        </div>
        <div class="flex justify-between">
            <span class="text-gray-400">Min Invest:</span>
            <span class="font-semibold text-blue-400">
                {{ currency_symbol }}{{ asset.display_min_investment|floatformat:2 }}
            </span>
        </div>
    </div>
    
    <!-- Expected Returns -->
    <div class="mb-3 p-2 bg-gray-900/50 rounded">
        <p class="text-xs text-gray-400 mb-1">Expected Returns:</p>
        <div class="grid grid-cols-2 gap-1 text-xs">
            {% for duration in asset.ALLOWED_HOURS %}
            <div class="text-center p-1 bg-gray-800/50 rounded">
                <div class="font-semibold text-green-400">+{{ duration.return_rate }}%</div>
                <div class="text-gray-300">{{ duration.label }}</div>
            </div>
            {% endfor %}
        </div>
    </div>
    
    <!-- Quick Investment Form -->
    <form method="post" action="{% url 'investments:invest_asset' asset.id %}" class="space-y-2">
        {% csrf_token %}
        
        <div>
            <input type="number" 
                   name="amount" 
                   min="{{ asset.display_min_investment|floatformat:2 }}"
                   step="0.01"
                   placeholder="Amount ({{ currency_symbol }})"
                   class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm"
                   required>
        </div>
        
        <div>
            <select name="duration_hours" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm">
                {% for duration in asset.ALLOWED_HOURS %}
                    <option value="{{ duration.hours }}" {% if duration.hours == asset.duration_hours_default %}selected{% endif %}>
                        {{ duration.label }} (+{{ duration.return_rate }}%)
                    </option>
                {% endfor %}
            </select>
        </div>
        
        <button type="submit" 
                class="w-full bg-gradient-to-r from-emerald-600 to-teal-500 hover:from-emerald-700 hover:to-teal-600 
                       text-white font-semibold py-2 px-3 rounded-lg transition text-sm">
            Quick Invest
        </button>
    </form>
</div>